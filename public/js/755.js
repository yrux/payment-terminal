"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[755],{6573:(t,e,n)=>{function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n.d(e,{Z:()=>o});var a=n(9669);const o=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,o;return e=t,(n=[{key:"get",value:function(t){return a.get("/api/".concat(t)).then((function(t){return t})).catch((function(t){return t}))}},{key:"post",value:function(t,e){return a.post("/api/".concat(t),e).then((function(t){return t})).catch((function(t){return t}))}}])&&r(e.prototype,n),o&&r(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}())},2205:(t,e,n)=>{n.d(e,{Z:()=>s});var r=n(7757),a=n.n(r);function o(t,e,n,r,a,o,i){try{var u=t[o](i),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,a)}function i(t){return function(){var e=this,n=arguments;return new Promise((function(r,a){var i=t.apply(e,n);function u(t){o(i,r,a,u,c,"next",t)}function c(t){o(i,r,a,u,c,"throw",t)}u(void 0)}))}}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var c=n(9669);const s=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r,o,s;return e=t,n=[{key:"getlist",value:function(t){return c.get("/api/user".concat(t)).then((function(t){return t.data})).catch((function(t){return t}))}},{key:"create",value:(s=i(a().mark((function t(e){var n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.post("/api/user",e).then((function(t){return{status:1,data:t.data.data}})).catch((function(t){return{status:0,data:t.response.data.errors}}));case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)}))),function(t){return s.apply(this,arguments)})},{key:"delete",value:function(t){t.query;var e=t.id;return c.delete("/api/user/".concat(e))}},{key:"get",value:function(t){return c.get("/api/user/".concat(t)).then((function(t){return t.data.data}))}},{key:"update",value:(o=i(a().mark((function t(e,n){var r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.append("_method","put"),t.next=3,c.post("/api/user/"+n,e).then((function(t){return{status:1,data:t.data.data}})).catch((function(t){return{status:0,data:t.response.data.errors}}));case 3:return r=t.sent,t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)}))),function(t,e){return o.apply(this,arguments)})}],n&&u(e.prototype,n),r&&u(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}())},7755:(t,e,n)=>{n.r(e),n.d(e,{default:()=>p});var r=n(7757),a=n.n(r),o=n(6573),i=n(2205);const u={data:function(){return{}},mounted:function(){},props:{title:{type:String,default:""},loading:{type:Boolean,default:!0},count:null},computed:{}};var c=n(1900);function s(t){return function(t){if(Array.isArray(t))return l(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function d(t,e,n,r,a,o,i){try{var u=t[o](i),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,a)}function v(t){return function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function i(t){d(o,r,a,i,u,"next",t)}function u(t){d(o,r,a,i,u,"throw",t)}i(void 0)}))}}const f={components:{countWidget:(0,c.Z)(u,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.loading?n("v-sheet",{staticClass:"pa-3",attrs:{color:"lighten-5"}},[n("v-skeleton-loader",{staticClass:"mx-auto",attrs:{type:"card"}})],1):n("v-card",{staticClass:"mx-auto"},[n("v-list-item",[n("v-list-item-content",[n("v-list-item-title",{staticClass:"text-h5"},[t._v("\n                    "+t._s(t.title)+"\n                ")])],1)],1),t._v(" "),n("v-card-text",[n("v-row",{attrs:{align:"center"}},[n("v-col",{staticClass:"text-h3",attrs:{cols:"6"}},[t._v("\n                    "+t._s(t.count)+"\n                ")])],1)],1)],1)],1)}),[],!1,null,null,null).exports},data:function(){return{today_loading:!1,users:[],date:(new Date).toISOString().substr(0,7),menu:!1,modal:!1,overall:{marketing:0,target:0,achieved:0,refunds:0,chargebacks:0,net:0},user_id:0}},mounted:function(){var t=this;return v(a().mark((function e(){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.Z.getlist("?role_id=4").then((function(t){return t.data}));case 2:n=e.sent,t.users=[{id:0,email:"All BUH"}].concat(s(n)),t.$store.commit("setPanelFull",!0),t.getTodayGraphs();case 6:case"end":return e.stop()}}),e)})))()},watch:{date:function(){this.getTodayGraphs()},user_id:function(){this.getTodayGraphs()}},methods:{getTodayGraphs:function(){var t=this;return v(a().mark((function e(){var n,r,i,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.today_loading=!0,n=t.date+"-01",1!=t.user.role_id){e.next=10;break}return r="?date="+n,t.user_id>0&&(r+="&user_id="+t.user_id),e.next=7,o.Z.get("admin/get-dashboard"+r).then((function(t){return t.data}));case 7:i=e.sent,u=i.overall,t.overall=u;case 10:t.today_loading=!1;case 11:case"end":return e.stop()}}),e)})))()}},computed:{user:function(){return this.$store.getters.loggedInUser},wallets:function(){return this.$store.getters.wallets}}};const p=(0,c.Z)(f,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return 1==t.user.role_id?n("v-row",[n("v-col",{attrs:{cols:"6"}},[n("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":t.date,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"auto"},on:{"update:returnValue":function(e){t.date=e},"update:return-value":function(e){t.date=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,a=e.attrs;return[n("v-text-field",t._g(t._b({attrs:{label:"Filter Targets","prepend-icon":"mdi-calendar",readonly:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},"v-text-field",a,!1),r))]}}],null,!1,3165769120),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[t._v(" "),n("v-date-picker",{attrs:{type:"month","no-title":"",scrollable:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},[n("v-spacer"),t._v(" "),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){t.menu=!1}}},[t._v("\n                Cancel\n            ")]),t._v(" "),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){return t.$refs.menu.save(t.date)}}},[t._v("\n                OK\n            ")])],1)],1)],1),t._v(" "),n("v-col",{attrs:{cols:"6"}},[n("v-select",{attrs:{items:t.users,"item-text":"email","item-value":"id",label:"BUH",required:""},model:{value:t.user_id,callback:function(e){t.user_id=e},expression:"user_id"}})],1),t._v(" "),n("v-col",{attrs:{cols:"3"}},[n("div",{staticClass:"mb-4"},[n("countWidget",{attrs:{loading:t.today_loading,count:t.overall.marketing,title:"Marketing"}})],1)]),t._v(" "),n("v-col",{attrs:{cols:"3"}},[n("div",{staticClass:"mb-4"},[n("countWidget",{attrs:{loading:t.today_loading,count:t.overall.target,title:"Target"}})],1)]),t._v(" "),n("v-col",{attrs:{cols:"3"}},[n("div",{staticClass:"mb-4"},[n("countWidget",{attrs:{loading:t.today_loading,count:t.overall.achieved,title:"Achieved"}})],1)]),t._v(" "),n("v-col",{attrs:{cols:"3"}},[n("div",{staticClass:"mb-4"},[n("countWidget",{attrs:{loading:t.today_loading,count:0,title:"Expense"}})],1)]),t._v(" "),n("v-col",{attrs:{cols:"3"}},[n("div",{staticClass:"mb-4"},[n("countWidget",{attrs:{loading:t.today_loading,count:t.overall.refunds,title:"Refunds"}})],1)]),t._v(" "),n("v-col",{attrs:{cols:"3"}},[n("div",{staticClass:"mb-4"},[n("countWidget",{attrs:{loading:t.today_loading,count:t.overall.chargebacks,title:"Chargebacks"}})],1)]),t._v(" "),n("v-col",{attrs:{cols:"3"}},[n("div",{staticClass:"mb-4"},[n("countWidget",{attrs:{loading:t.today_loading,count:t.overall.net,title:"Net"}})],1)])],1):t._e()}),[],!1,null,null,null).exports}}]);