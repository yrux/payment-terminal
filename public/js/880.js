"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[880],{6573:(t,e,n)=>{function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}n.d(e,{Z:()=>i});var a=n(9669);const i=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,i;return e=t,(n=[{key:"get",value:function(t){return a.get("/api/".concat(t)).then((function(t){return t})).catch((function(t){return t}))}},{key:"post",value:function(t,e){return a.post("/api/".concat(t),e).then((function(t){return t})).catch((function(t){return t}))}}])&&o(e.prototype,n),i&&o(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}())},880:(t,e,n)=>{n.r(e),n.d(e,{default:()=>d});var o=n(7757),a=n.n(o),i=n(6573);const r={data:function(){return{}},mounted:function(){},props:{title:{type:String,default:""},loading:{type:Boolean,default:!0},count:{type:Number,default:0}},computed:{}};var c=n(1900);function l(t,e,n,o,a,i,r){try{var c=t[i](r),l=c.value}catch(t){return void n(t)}c.done?e(l):Promise.resolve(l).then(o,a)}function u(t){return function(){var e=this,n=arguments;return new Promise((function(o,a){var i=t.apply(e,n);function r(t){l(i,o,a,r,c,"next",t)}function c(t){l(i,o,a,r,c,"throw",t)}r(void 0)}))}}const s={components:{countWidget:(0,c.Z)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.loading?n("v-sheet",{staticClass:"pa-3",attrs:{color:"lighten-5"}},[n("v-skeleton-loader",{staticClass:"mx-auto",attrs:{type:"card"}})],1):n("v-card",{staticClass:"mx-auto"},[n("v-list-item",[n("v-list-item-content",[n("v-list-item-title",{staticClass:"text-h5"},[t._v("\n                    "+t._s(t.title)+"\n                ")])],1)],1),t._v(" "),n("v-card-text",[n("v-row",{attrs:{align:"center"}},[n("v-col",{staticClass:"text-h2",attrs:{cols:"6"}},[t._v("\n                    "+t._s(t.count)+"\n                ")])],1)],1)],1)],1)}),[],!1,null,null,null).exports},data:function(){return{graphs:[{count:0,title:""},{count:0,title:""},{count:0,title:""},{count:0,title:""}],debits:[{count:0,title:""},{count:0,title:""},{count:0,title:""},{count:0,title:""}],today_graphs:[{count:0,title:""},{count:0,title:""},{count:0,title:""},{count:0,title:""}],today_debits:[{count:0,title:""},{count:0,title:""},{count:0,title:""},{count:0,title:""}],loading:!1,today_loading:!1,month:(new Date).getMonth()+1,months:[{id:1,name:"January"},{id:2,name:"February"},{id:3,name:"March"},{id:4,name:"April"},{id:5,name:"May"},{id:6,name:"June"},{id:7,name:"July"},{id:8,name:"August"},{id:9,name:"September"},{id:10,name:"Octuber"},{id:11,name:"November"},{id:12,name:"December"}],date:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10)}},mounted:function(){var t=this;return u(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.$store.commit("setPanelFull",!0),t.getGraphs(),t.getTodayGraphs();case 3:case"end":return e.stop()}}),e)})))()},watch:{month:function(){this.getGraphs()},date:function(){this.getTodayGraphs()}},methods:{getGraphs:function(){var t=this;return u(a().mark((function e(){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.graphs=[{count:0,title:""},{count:0,title:""},{count:0,title:""},{count:0,title:""}],t.debits=[{count:0,title:""},{count:0,title:""},{count:0,title:""},{count:0,title:""}],t.loading=!0,e.next=5,i.Z.get("dashboard?month="+t.month).then((function(t){return t.data}));case 5:n=e.sent,t.graphs=n.wallet_credits.map((function(e){return{count:e.total_credit,title:t.wallets.find((function(t){return t.id==e.wallet})).text}})),t.debits=n.wallet_debits.map((function(e){return{count:e.total_debit,title:t.wallets.find((function(t){return t.id==e.wallet})).text}})),t.loading=!1;case 9:case"end":return e.stop()}}),e)})))()},getTodayGraphs:function(){var t=this;return u(a().mark((function e(){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.today_graphs=[{count:0,title:""},{count:0,title:""},{count:0,title:""},{count:0,title:""}],t.today_debits=[{count:0,title:""},{count:0,title:""},{count:0,title:""},{count:0,title:""}],t.today_loading=!0,e.next=5,i.Z.get("dashboard/today?date="+t.date).then((function(t){return t.data}));case 5:n=e.sent,t.today_graphs=n.wallet_credits.map((function(e){return{count:e.total_credit,title:t.wallets.find((function(t){return t.id==e.wallet})).text}})),t.today_debits=n.wallet_debits.map((function(e){return{count:e.total_debit,title:t.wallets.find((function(t){return t.id==e.wallet})).text}})),t.today_loading=!1;case 9:case"end":return e.stop()}}),e)})))()}},computed:{user:function(){return this.$store.getters.loggedInUser},wallets:function(){return this.$store.getters.wallets}}};const d=(0,c.Z)(s,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-row",[n("v-col",{attrs:{cols:"12"}},[n("v-row",[n("v-col",{attrs:{cols:"4"}},[n("v-date-picker",{attrs:{"full-width":""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1),t._v(" "),n("v-col",{attrs:{cols:"4"}},[n("h2",[t._v("Credits")]),t._v(" "),t._l(t.today_graphs,(function(e,o){return n("v-row",{key:o},[n("v-col",[n("countWidget",{attrs:{loading:t.today_loading,count:e.count,title:e.title}})],1)],1)}))],2),t._v(" "),n("v-col",{attrs:{cols:"4"}},[n("h2",[t._v("Debits")]),t._v(" "),t._l(t.today_debits,(function(e,o){return n("v-row",{key:o},[n("v-col",[n("countWidget",{attrs:{loading:t.today_loading,count:e.count,title:e.title}})],1)],1)}))],2)],1)],1),t._v(" "),n("v-col",{attrs:{cols:"12"}},[n("v-divider")],1),t._v(" "),n("v-col",{attrs:{cols:"12"}},[n("v-select",{attrs:{items:t.months,"item-text":"name","item-value":"id",label:"Month"},model:{value:t.month,callback:function(e){t.month=e},expression:"month"}})],1),t._v(" "),n("v-col",{attrs:{cols:"12"}},[n("h2",[t._v("Credit Monthly")])]),t._v(" "),t._l(t.graphs,(function(e,o){return n("v-col",{key:o,attrs:{cols:"3"}},[n("countWidget",{attrs:{loading:t.loading,count:e.count,title:e.title}})],1)})),t._v(" "),n("v-col",{attrs:{cols:"12"}},[n("h2",[t._v("Debit Monthly")])]),t._v(" "),t._l(t.debits,(function(e,o){return n("v-col",{key:"d"+o,attrs:{cols:"3"}},[n("countWidget",{attrs:{loading:t.loading,count:e.count,title:e.title}})],1)}))],2)}),[],!1,null,null,null).exports}}]);