"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[31],{31:(e,a,t)=>{t.r(a),t.d(a,{default:()=>c});var s=t(7757),r=t.n(s),i=t(2986);function o(e,a,t,s,r,i,o){try{var l=e[i](o),n=l.value}catch(e){return void t(e)}l.done?a(n):Promise.resolve(n).then(s,r)}function l(e){return function(){var a=this,t=arguments;return new Promise((function(s,r){var i=e.apply(a,t);function l(e){o(i,s,r,l,n,"next",e)}function n(e){o(i,s,r,l,n,"throw",e)}l(void 0)}))}}var n;const d={name:"auth.company.edit",mounted:function(){this.startProfile()},methods:{trackLocation:function(){return l(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},startProfile:function(){var e=this;return l(r().mark((function a(){var t;return r().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return e.id=e.$route.params.id,a.next=3,i.Z.me();case 3:t=a.sent,e.name=t.name,e.email=t.email,e.address=t.address,e.city=t.city,e.zip_code=t.zip_code,e.latitude=t.latitude,e.longitude=t.longitude,e.password="",e.imageurl=t.image_url;case 13:case"end":return a.stop()}}),a)})))()},resetError:function(){this.errors={name:[],password:[],email:[],file:[],address:[],city:[],zip_code:[],latitude:[],longitude:[]}},addbrand:(n=l(r().mark((function e(){var a,t,s;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.resetError(),!this.$refs.form.validate()){e.next=18;break}return this.btnloading=!0,(a=new FormData).append("name",this.name),a.append("email",this.email),a.append("address",this.address),a.append("city",this.city),a.append("zip_code",this.zip_code),a.append("latitude",this.latitude),a.append("longitude",this.longitude),this.password&&a.append("password",this.password),this.image.size&&a.append("file",this.image),this.btnloading=!1,e.next=16,i.Z.updateProfile(a,this.id);case 16:(t=e.sent).status?(this.image.size&&((s=new FormData).append("ref_id",t.data.id),s.append("table_name","users"),s.append("type","1"),s.append("attachements[0]",this.image)),this.startProfile()):(t.data.name&&(this.errors.name=t.data.name),t.data.email&&(this.errors.email=t.data.email),t.data.password&&(this.errors.password=t.data.password),t.data.file&&(this.errors.file=t.data.file),t.data.address&&(this.errors.address=t.data.address),t.data.city&&(this.errors.city=t.data.city),t.data.zip_code&&(this.errors.zip_code=t.data.zip_code),t.data.latitude&&(this.errors.latitude=t.data.latitude),t.data.longitude&&(this.errors.longitude=t.data.longitude));case 18:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},data:function(){return{name:"",id:0,email:"",password:"",address:"",city:"",zip_code:"",latitude:"",longitude:"",imageurl:"",errors:{name:[],email:[],password:[],file:[],address:[],city:[],zip_code:[],latitude:[],longitude:[]},image:{},loading:!1,btnloading:!1,rules:{required:function(e){return!!e||"Required."}}}}};const c=(0,t(1900).Z)(d,(function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("v-row",{staticClass:"pa-10 rounded elevation-10",attrs:{"no-gutters":""}},[t("v-col",{attrs:{cols:"12",sm:"12"}},[t("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.loading,callback:function(a){e.loading=a},expression:"loading"}},[t("v-row",[t("v-col",{staticClass:"pb-0",attrs:{cols:"12",sm:"12"}},[t("v-text-field",{attrs:{rules:[e.rules.required],"error-messages":e.errors.name,label:"Full Name"},model:{value:e.name,callback:function(a){e.name=a},expression:"name"}})],1),e._v(" "),t("v-col",{staticClass:"pb-0",attrs:{cols:"12",sm:"12"}},[t("v-text-field",{attrs:{rules:[e.rules.required],"error-messages":e.errors.email,label:"Email"},model:{value:e.email,callback:function(a){e.email=a},expression:"email"}})],1),e._v(" "),t("v-col",{staticClass:"pb-0",attrs:{cols:"12",sm:"12"}},[t("v-text-field",{attrs:{"error-messages":e.errors.password,label:"Password",type:"password",autocomplete:"new-password"},model:{value:e.password,callback:function(a){e.password=a},expression:"password"}})],1),e._v(" "),t("v-col",{staticClass:"pb-0",attrs:{cols:"12",sm:"12"}},[t("v-text-field",{attrs:{"error-messages":e.errors.address,label:"Address"},model:{value:e.address,callback:function(a){e.address=a},expression:"address"}})],1),e._v(" "),t("v-col",{staticClass:"pb-0",attrs:{cols:"6",sm:"6"}},[t("v-text-field",{attrs:{"error-messages":e.errors.city,label:"City"},model:{value:e.city,callback:function(a){e.city=a},expression:"city"}})],1),e._v(" "),t("v-col",{staticClass:"pb-0",attrs:{cols:"6",sm:"6"}},[t("v-text-field",{attrs:{"error-messages":e.errors.zip_code,label:"Zip/Postal Code"},model:{value:e.zip_code,callback:function(a){e.zip_code=a},expression:"zip_code"}})],1),e._v(" "),t("v-col",{staticClass:"pb-0",attrs:{cols:"5",sm:"5"}},[t("v-text-field",{attrs:{"error-messages":e.errors.latitude,label:"Latitude"},model:{value:e.latitude,callback:function(a){e.latitude=a},expression:"latitude"}})],1),e._v(" "),t("v-col",{staticClass:"pb-0",attrs:{cols:"5",sm:"5"}},[t("v-text-field",{attrs:{"error-messages":e.errors.longitude,label:"Longitude"},model:{value:e.longitude,callback:function(a){e.longitude=a},expression:"longitude"}})],1),e._v(" "),t("v-col",{staticClass:"pb-0",attrs:{cols:"2",sm:"2"}},[t("v-btn",{attrs:{color:"primary",elevation:"1",large:"",raised:""},on:{click:e.trackLocation}},[e._v("Track Location")])],1),e._v(" "),t("v-col",{staticClass:"pb-0",attrs:{cols:"12",sm:"12"}},[t("v-file-input",{attrs:{"show-size":"","error-messages":e.errors.file,accept:"image/png, image/jpeg, image/bmp",label:"Title Image",rules:[e.rules.required],"truncate-length":"15"},model:{value:e.image,callback:function(a){e.image=a},expression:"image"}}),e._v(" "),t("v-img",{attrs:{"lazy-src":e.imageurl,"max-height":"100","max-width":"150",contain:"",src:e.imageurl}})],1),e._v(" "),t("v-col",{staticClass:"pb-0",attrs:{cols:"12",sm:"12"}},[t("v-btn",{attrs:{color:"secondary",elevation:"1",large:"",raised:"",loading:e.btnloading,disabled:e.btnloading},on:{click:e.addbrand}},[e._v("Save")])],1)],1)],1)],1)],1)],1)}),[],!1,null,null,null).exports}}]);