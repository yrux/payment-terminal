"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[870],{1369:(e,t,a)=>{a.d(t,{Z:()=>c});var r=a(7757),n=a.n(r);function s(e,t,a,r,n,s,o){try{var i=e[s](o),l=i.value}catch(e){return void a(e)}i.done?t(l):Promise.resolve(l).then(r,n)}function o(e){return function(){var t=this,a=arguments;return new Promise((function(r,n){var o=e.apply(t,a);function i(e){s(o,r,n,i,l,"next",e)}function l(e){s(o,r,n,i,l,"throw",e)}i(void 0)}))}}function i(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l=a(9669);const c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.baseuri=t}var t,a,r,s,c;return t=e,a=[{key:"getlist",value:function(e){return l.get("/api/".concat(this.baseuri).concat(null!=e?e:"")).then((function(e){return e.data})).catch((function(e){return e}))}},{key:"create",value:(c=o(n().mark((function e(t){var a;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.post("/api/"+this.baseuri,t).then((function(e){return{status:1,data:e.data.data}})).catch((function(e){return{status:0,data:e.response.data.errors}}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})},{key:"delete",value:function(e){e.query;var t=e.id;return l.delete("/api/".concat(this.baseuri,"/").concat(t))}},{key:"get",value:function(e){return l.get("/api/".concat(this.baseuri,"/").concat(e)).then((function(e){return e.data.data}))}},{key:"getProductData",value:function(e,t){return l.get("/api/".concat(this.baseuri,"/").concat(e,"/").concat(t)).then((function(e){return e.data})).catch((function(e){return e}))}},{key:"update",value:(s=o(n().mark((function e(t,a){var r;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.append("_method","put"),e.next=3,l.post("/api/"+this.baseuri+"/"+a,t).then((function(e){return{status:1,data:e.data.data}})).catch((function(e){return{status:0,data:e.response.data.errors}}));case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)}))),function(e,t){return s.apply(this,arguments)})}],a&&i(t.prototype,a),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}()},870:(e,t,a)=>{a.r(t),a.d(t,{default:()=>u});var r=a(7757),n=a.n(r);function s(e,t,a,r,n,s,o){try{var i=e[s](o),l=i.value}catch(e){return void a(e)}i.done?t(l):Promise.resolve(l).then(r,n)}function o(e){return function(){var t=this,a=arguments;return new Promise((function(r,n){var o=e.apply(t,a);function i(e){s(o,r,n,i,l,"next",e)}function l(e){s(o,r,n,i,l,"throw",e)}i(void 0)}))}}var i=new(a(1369).Z)("employees");var l;const c={name:"auth.employees.add",watch:{},mounted:function(){var e=this;return o(n().mark((function t(){var a;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.$route.params.id){t.next=8;break}return t.next=3,i.get(e.form.id);case 3:a=t.sent,e.form={id:e.$route.params.id,first_name:a.first_name?a.first_name:"",last_name:a.last_name?a.last_name:"",email:a.email?a.email:"",phone_number:a.phone_number?a.phone_number:"",birth_date:a.birth_date?a.birth_date:"",gender:a.sex?a.sex:"",hire_date:a.hire_date?a.hire_date:"",work_dept:a.work_dept?a.work_dept:"",salary:a.salary?a.salary:"",country:a.country?a.country:"",city:a.city?a.city:"",zip_code:a.zip_code?a.zip_code:"",state:a.zip_code?a.zip_code:"",bank_iban:a.bank_iban?a.bank_iban:"",bank_title:a.bank_title?a.bank_title:"",bank_name:a.bank_name?a.bank_name:"",bank_account_number:a.bank_account_number?a.bank_account_number:""},e.bread.push({text:"Edit",to:{name:"auth.employees.edit",params:{id:e.$route.params.id}},disabled:!1,exact:!0}),t.next=9;break;case 8:e.bread.push({text:"Add",to:{name:"auth.employees.add"},disabled:!1,exact:!0});case 9:case"end":return t.stop()}}),t)})))()},methods:{resetError:function(){this.errors={first_name:[],last_name:[],email:[],phone_number:[],birth_date:[],gender:[],hire_date:[],work_dept:[],salary:[],country:[],city:[],zip_code:[],state:[],bank_iban:[],bank_title:[],bank_name:[],bank_account_number:[]}},addpermission:(l=o(n().mark((function e(){var t,a;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.resetError(),!this.$refs.form.validate()){e.next=32;break}if(this.btnloading=!0,(t=new FormData).append("first_name",this.form.first_name),t.append("last_name",this.form.last_name),t.append("email",this.form.email),t.append("phone_number",this.form.phone_number),t.append("birth_date",this.form.birth_date),t.append("sex",this.form.gender),t.append("hire_date",this.form.hire_date),t.append("work_dept",this.form.work_dept),t.append("salary",this.form.salary),t.append("country",this.form.country),t.append("city",this.form.city),t.append("zip_code",this.form.zip_code),t.append("state",this.form.state),t.append("bank_iban",this.form.bank_iban),t.append("bank_title",this.form.bank_title),t.append("bank_name",this.form.bank_name),t.append("bank_account_number",this.form.bank_account_number),this.btnloading=!1,!(this.form.id>0)){e.next=28;break}return e.next=25,i.update(t,this.form.id);case 25:a=e.sent,e.next=31;break;case 28:return e.next=30,i.create(t);case 30:a=e.sent;case 31:a.status?this.$router.push({name:"auth.employees.listing"}):(a.data.first_name&&(this.errors.first_name=a.data.first_name),a.data.last_name&&(this.errors.last_name=a.data.last_name),a.data.phone_number&&(this.errors.phone_number=a.data.phone_number),a.data.birth_date&&(this.errors.birth_date=a.data.birth_date),a.data.sex&&(this.errors.gender=a.data.sex),a.data.hire_date&&(this.errors.hire_date=a.data.hire_date),a.data.work_dept&&(this.errors.work_dept=a.data.work_dept),a.data.salary&&(this.errors.salary=a.data.salary),a.data.country&&(this.errors.country=a.data.country),a.data.city&&(this.errors.city=a.data.city),a.data.zip_code&&(this.errors.zip_code=a.data.zip_code),a.data.state&&(this.errors.state=a.data.state));case 32:case"end":return e.stop()}}),e,this)}))),function(){return l.apply(this,arguments)})},computed:{user:function(){return this.$store.getters.loggedInUser}},data:function(){return{modal:!1,menu1:!1,menu2:!1,form:{id:this.$route.params.id?this.$route.params.id:0,first_name:"",last_name:"",email:"",phone_number:"",birth_date:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),gender:"",hire_date:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),work_dept:"",salary:"",country:"",city:"",zip_code:"",state:"",bank_iban:"",bank_title:"",bank_name:"",bank_account_number:""},gender_option:[{value:"male",text:"Male"},{value:"female",text:"Female"}],errors:{first_name:[],last_name:[],email:[],phone_number:[],birth_date:[],gender:[],hire_date:[],work_dept:[],salary:[],country:[],city:[],zip_code:[],state:[],bank_iban:[],bank_title:[],bank_name:[],bank_account_number:[]},bread:[{text:"Dashboard",to:{name:"auth.dashboard"},disabled:!1,exact:!0},{text:"Employees",to:{name:"auth.employees.listing"},disabled:!1,exact:!0}],loading:!1,btnloading:!1,rules:{required:function(e){return!!e||"Required."}}}}};const u=(0,a(1900).Z)(c,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-breadcrumbs",{attrs:{items:e.bread},scopedSlots:e._u([{key:"divider",fn:function(){return[a("v-icon",[e._v("mdi-forward")])]},proxy:!0}])}),e._v(" "),a("v-row",{staticClass:"pa-10 rounded elevation-10",attrs:{"no-gutters":""}},[a("v-col",{attrs:{cols:"12",sm:"12"}},[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},[a("v-row",[a("v-col",{staticClass:"pb-0",attrs:{cols:"6",sm:"6"}},[a("v-text-field",{attrs:{type:"text",rules:[e.rules.required],"error-messages":e.errors.first_name,label:"First Name"},model:{value:e.form.first_name,callback:function(t){e.$set(e.form,"first_name",t)},expression:"form.first_name"}})],1),e._v(" "),a("v-col",{staticClass:"pb-0",attrs:{cols:"6",sm:"6"}},[a("v-text-field",{attrs:{type:"text",rules:[e.rules.required],"error-messages":e.errors.last_name,label:"Last Name"},model:{value:e.form.last_name,callback:function(t){e.$set(e.form,"last_name",t)},expression:"form.last_name"}})],1),e._v(" "),a("v-col",{staticClass:"pb-0",attrs:{cols:"6",sm:"6"}},[a("v-text-field",{attrs:{type:"email",rules:[e.rules.required],"error-messages":e.errors.email,label:"Email"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),e._v(" "),a("v-col",{staticClass:"pb-0",attrs:{cols:"6",sm:"6"}},[a("v-text-field",{attrs:{type:"number",rules:[e.rules.required],"error-messages":e.errors.phone_number,label:"Phone Number"},model:{value:e.form.phone_number,callback:function(t){e.$set(e.form,"phone_number",t)},expression:"form.phone_number"}})],1),e._v(" "),a("v-col",{staticClass:"pb-0",attrs:{cols:"6",sm:"6"}},[a("v-select",{attrs:{items:e.gender_option,"item-text":"text","item-value":"value",label:"Gender",rules:[e.rules.required],"error-messages":e.errors.gender},model:{value:e.form.gender,callback:function(t){e.$set(e.form,"gender",t)},expression:"form.gender"}})],1),e._v(" "),a("v-col",{staticClass:"pb-0",attrs:{cols:"6",sm:"6"}},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,n=t.attrs;return[a("v-text-field",e._g(e._b({attrs:{"error-messages":e.errors.birth_date,label:"Date of Birth",rules:[e.rules.required],"prepend-icon":"mdi-calendar",readonly:""},model:{value:e.form.birth_date,callback:function(t){e.$set(e.form,"birth_date",t)},expression:"form.birth_date"}},"v-text-field",n,!1),r))]}}]),model:{value:e.menu1,callback:function(t){e.menu1=t},expression:"menu1"}},[e._v(" "),a("v-date-picker",{attrs:{required:""},on:{input:function(t){e.menu1=!1}},model:{value:e.form.birth_date,callback:function(t){e.$set(e.form,"birth_date",t)},expression:"form.birth_date"}})],1)],1),e._v(" "),a("v-col",{staticClass:"pb-0",attrs:{cols:"4",sm:"4"}},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,n=t.attrs;return[a("v-text-field",e._g(e._b({attrs:{"error-messages":e.errors.hire_date,label:"Hiring Date",rules:[e.rules.required],"prepend-icon":"mdi-calendar",readonly:""},model:{value:e.form.hire_date,callback:function(t){e.$set(e.form,"hire_date",t)},expression:"form.hire_date"}},"v-text-field",n,!1),r))]}}]),model:{value:e.menu2,callback:function(t){e.menu2=t},expression:"menu2"}},[e._v(" "),a("v-date-picker",{attrs:{required:""},on:{input:function(t){e.menu2=!1}},model:{value:e.form.hire_date,callback:function(t){e.$set(e.form,"hire_date",t)},expression:"form.hire_date"}})],1)],1),e._v(" "),a("v-col",{staticClass:"pb-0",attrs:{cols:"4",sm:"4"}},[a("v-text-field",{attrs:{type:"text",rules:[e.rules.required],"error-messages":e.errors.work_dept,label:"Work Department"},model:{value:e.form.work_dept,callback:function(t){e.$set(e.form,"work_dept",t)},expression:"form.work_dept"}})],1),e._v(" "),a("v-col",{staticClass:"pb-0",attrs:{cols:"4",sm:"4"}},[a("v-text-field",{attrs:{type:"text",rules:[e.rules.required],"error-messages":e.errors.salary,label:"Salary"},model:{value:e.form.salary,callback:function(t){e.$set(e.form,"salary",t)},expression:"form.salary"}})],1),e._v(" "),a("v-col",{staticClass:"pb-0",attrs:{cols:"6",sm:"6"}},[a("v-text-field",{attrs:{type:"text",rules:[e.rules.required],"error-messages":e.errors.country,label:"Country"},model:{value:e.form.country,callback:function(t){e.$set(e.form,"country",t)},expression:"form.country"}})],1),e._v(" "),a("v-col",{staticClass:"pb-0",attrs:{cols:"6",sm:"6"}},[a("v-text-field",{attrs:{type:"text",rules:[e.rules.required],"error-messages":e.errors.state,label:"State"},model:{value:e.form.state,callback:function(t){e.$set(e.form,"state",t)},expression:"form.state"}})],1),e._v(" "),a("v-col",{staticClass:"pb-0",attrs:{cols:"6",sm:"6"}},[a("v-text-field",{attrs:{type:"text",rules:[e.rules.required],"error-messages":e.errors.city,label:"City"},model:{value:e.form.city,callback:function(t){e.$set(e.form,"city",t)},expression:"form.city"}})],1),e._v(" "),a("v-col",{staticClass:"pb-0",attrs:{cols:"6",sm:"6"}},[a("v-text-field",{attrs:{type:"text",rules:[e.rules.required],"error-messages":e.errors.zip_code,label:"Zip Code"},model:{value:e.form.zip_code,callback:function(t){e.$set(e.form,"zip_code",t)},expression:"form.zip_code"}})],1),e._v(" "),a("v-col",{staticClass:"pb-0",attrs:{cols:"6",sm:"6"}},[a("v-text-field",{attrs:{type:"text",label:"Bank Name"},model:{value:e.form.bank_name,callback:function(t){e.$set(e.form,"bank_name",t)},expression:"form.bank_name"}})],1),e._v(" "),a("v-col",{staticClass:"pb-0",attrs:{cols:"6",sm:"6"}},[a("v-text-field",{attrs:{type:"text",label:"Bank Title"},model:{value:e.form.bank_title,callback:function(t){e.$set(e.form,"bank_title",t)},expression:"form.bank_title"}})],1),e._v(" "),a("v-col",{staticClass:"pb-0",attrs:{cols:"6",sm:"6"}},[a("v-text-field",{attrs:{type:"text",label:"Bank Account Number"},model:{value:e.form.bank_account_number,callback:function(t){e.$set(e.form,"bank_account_number",t)},expression:"form.bank_account_number"}})],1),e._v(" "),a("v-col",{staticClass:"pb-0",attrs:{cols:"6",sm:"6"}},[a("v-text-field",{attrs:{type:"text",label:"Bank IBAN"},model:{value:e.form.bank_iban,callback:function(t){e.$set(e.form,"bank_iban",t)},expression:"form.bank_iban"}})],1),e._v(" "),a("v-col",{staticClass:"pb-0",attrs:{cols:"12",sm:"12"}},[a("v-btn",{attrs:{color:"secondary",elevation:"1",large:"",raised:"",loading:e.btnloading,disabled:e.btnloading},on:{click:e.addpermission}},[e._v(e._s(e.form.id>0?"Update":"Add")+"\n                        ")])],1)],1)],1)],1)],1)],1)}),[],!1,null,null,null).exports}}]);