"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[789],{6573:(t,e,n)=>{function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n.d(e,{Z:()=>o});var a=n(9669);const o=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,o;return e=t,(n=[{key:"get",value:function(t){return a.get("/api/".concat(t)).then((function(t){return t})).catch((function(t){return t}))}},{key:"post",value:function(t,e){return a.post("/api/".concat(t),e).then((function(t){return t})).catch((function(t){return t}))}}])&&r(e.prototype,n),o&&r(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}())},2205:(t,e,n)=>{n.d(e,{Z:()=>c});var r=n(7757),a=n.n(r);function o(t,e,n,r,a,o,s){try{var i=t[o](s),l=i.value}catch(t){return void n(t)}i.done?e(l):Promise.resolve(l).then(r,a)}function s(t){return function(){var e=this,n=arguments;return new Promise((function(r,a){var s=t.apply(e,n);function i(t){o(s,r,a,i,l,"next",t)}function l(t){o(s,r,a,i,l,"throw",t)}i(void 0)}))}}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var l=n(9669);const c=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r,o,c;return e=t,n=[{key:"getlist",value:function(t){return l.get("/api/user".concat(t)).then((function(t){return t.data})).catch((function(t){return t}))}},{key:"create",value:(c=s(a().mark((function t(e){var n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.post("/api/user",e).then((function(t){return{status:1,data:t.data.data}})).catch((function(t){return{status:0,data:t.response.data.errors}}));case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)}))),function(t){return c.apply(this,arguments)})},{key:"delete",value:function(t){t.query;var e=t.id;return l.delete("/api/user/".concat(e))}},{key:"get",value:function(t){return l.get("/api/user/".concat(t)).then((function(t){return t.data.data}))}},{key:"update",value:(o=s(a().mark((function t(e,n){var r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.append("_method","put"),t.next=3,l.post("/api/user/"+n,e).then((function(t){return{status:1,data:t.data.data}})).catch((function(t){return{status:0,data:t.response.data.errors}}));case 3:return r=t.sent,t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)}))),function(t,e){return o.apply(this,arguments)})}],n&&i(e.prototype,n),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}())},5789:(t,e,n)=>{n.r(e),n.d(e,{default:()=>m});var r=n(7757),a=n.n(r),o=n(6573),s=n(2205);const i={data:function(){return{}},mounted:function(){},props:{title:{type:String,default:""},loading:{type:Boolean,default:!0},count:null},computed:{}};var l=n(1900);function c(t){return function(t){if(Array.isArray(t))return u(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function d(t,e,n,r,a,o,s){try{var i=t[o](s),l=i.value}catch(t){return void n(t)}i.done?e(l):Promise.resolve(l).then(r,a)}function v(t){return function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function s(t){d(o,r,a,s,i,"next",t)}function i(t){d(o,r,a,s,i,"throw",t)}s(void 0)}))}}const f={components:{countWidget:(0,l.Z)(i,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.loading?n("v-sheet",{staticClass:"pa-3",attrs:{color:"lighten-5"}},[n("v-skeleton-loader",{staticClass:"mx-auto",attrs:{type:"card"}})],1):n("v-card",{staticClass:"mx-auto"},[n("v-list-item",[n("v-list-item-content",[n("v-list-item-title",{staticClass:"text-h5"},[t._v("\n                    "+t._s(t.title)+"\n                ")])],1)],1),t._v(" "),n("v-card-text",[n("v-row",{attrs:{align:"center"}},[n("v-col",{staticClass:"text-h3",attrs:{cols:"12"}},[t._v("\n                    "+t._s(t.count)+"\n                ")])],1)],1)],1)],1)}),[],!1,null,null,null).exports},data:function(){return{value:[423,446,675,510,590,610,760],today_loading:!0,users:[],date:(new Date).toISOString().substr(0,7),menu:!1,modal:!1,overall:{marketing:0,marketing_spent:0,target:0,achieved:0,refunds:0,chargebacks:0,net:0,brand_queries:0,lag_percentage:0,inflated_marketing_spent:0,marketing_left_percent:0,target_left_percent:0,net_target:0},user_id:0}},mounted:function(){var t=this;return v(a().mark((function e(){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.getlist("?role_id=4").then((function(t){return t.data}));case 2:n=e.sent,t.users=[{id:0,email:"All BUH"}].concat(c(n)),t.$store.commit("setPanelFull",!0),t.getTodayGraphs();case 6:case"end":return e.stop()}}),e)})))()},watch:{date:function(){this.getTodayGraphs()},user_id:function(){this.getTodayGraphs()}},methods:{getTodayGraphs:function(){var t=this;return v(a().mark((function e(){var n,r,s,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.today_loading=!0,n=t.date+"-01",1!=t.user.role_id){e.next=10;break}return r="?date="+n,t.user_id>0&&(r+="&user_id="+t.user_id),e.next=7,o.Z.get("admin/get-dashboard"+r).then((function(t){return t.data}));case 7:s=e.sent,i=s.overall,t.overall=i;case 10:t.today_loading=!1;case 11:case"end":return e.stop()}}),e)})))()}},computed:{user:function(){return this.$store.getters.loggedInUser},wallets:function(){return this.$store.getters.wallets}}};const m=(0,l.Z)(f,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return 1==t.user.role_id?n("v-row",[n("v-col",{attrs:{cols:"6",sm:"12"}},[n("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":t.date,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"auto"},on:{"update:returnValue":function(e){t.date=e},"update:return-value":function(e){t.date=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,a=e.attrs;return[n("v-text-field",t._g(t._b({attrs:{label:"Filter Targets","prepend-icon":"mdi-calendar",readonly:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},"v-text-field",a,!1),r))]}}],null,!1,3165769120),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[t._v(" "),n("v-date-picker",{attrs:{type:"month","no-title":"",scrollable:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},[n("v-spacer"),t._v(" "),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){t.menu=!1}}},[t._v("\n                Cancel\n            ")]),t._v(" "),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){return t.$refs.menu.save(t.date)}}},[t._v("\n                OK\n            ")])],1)],1)],1),t._v(" "),n("v-col",{attrs:{cols:"6",sm:"12"}},[n("v-select",{attrs:{items:t.users,"item-text":"email","item-value":"id",label:"BUH",required:""},model:{value:t.user_id,callback:function(e){t.user_id=e},expression:"user_id"}})],1),t._v(" "),n("v-col",{attrs:{cols:"12",sm:"6",xs:"12",md:"3"}}),t._v(" "),n("v-col",{staticClass:"text-center",attrs:{cols:"12",sm:"6",xs:"12",md:"3"}},[n("h2",{staticClass:"text-center mb-2"},[t._v("Marketing Budget Used")]),t._v(" "),n("v-progress-circular",{attrs:{value:t.overall.marketing_left_percent,size:200,width:15,color:"blue-grey text-center"}},[t._v(t._s(t.overall.marketing_left_percent)+" %")])],1),t._v(" "),n("v-col",{staticClass:"text-center",attrs:{cols:"12",sm:"6",xs:"12",md:"3"}},[n("h2",{staticClass:"text-center mb-2"},[t._v("Target Achieved")]),t._v(" "),n("v-progress-circular",{attrs:{value:t.overall.target_left_percent,size:200,width:15,color:"blue-grey text-center"}},[t._v(t._s(t.overall.target_left_percent)+" %")])],1),t._v(" "),n("v-col",{attrs:{cols:"12",sm:"6",xs:"12",md:"3"}}),t._v(" "),n("v-col",{attrs:{cols:"12",sm:"6",xs:"12",md:"3"}},[n("div",{staticClass:"mb-4"},[n("countWidget",{attrs:{loading:t.today_loading,count:t.overall.marketing,title:"Marketing Allocated"}})],1)]),t._v(" "),n("v-col",{attrs:{cols:"12",sm:"6",xs:"12",md:"3"}},[n("div",{staticClass:"mb-4"},[n("countWidget",{attrs:{loading:t.today_loading,count:t.overall.marketing_spent,title:"Marketing Spent"}})],1)]),t._v(" "),n("v-col",{attrs:{cols:"12",sm:"6",xs:"12",md:"3"}},[n("div",{staticClass:"mb-4"},[n("countWidget",{attrs:{loading:t.today_loading,count:t.overall.target,title:"Target"}})],1)]),t._v(" "),n("v-col",{attrs:{cols:"12",sm:"6",xs:"12",md:"3"}},[n("div",{staticClass:"mb-4"},[n("countWidget",{attrs:{loading:t.today_loading,count:t.overall.net_target,title:"Net Target"}})],1)]),t._v(" "),n("v-col",{attrs:{cols:"12",sm:"6",xs:"12",md:"3"}},[n("div",{staticClass:"mb-4"},[n("countWidget",{attrs:{loading:t.today_loading,count:t.overall.achieved,title:"Achieved"}})],1)]),t._v(" "),n("v-col",{attrs:{cols:"12",sm:"6",xs:"12",md:"3"}},[n("div",{staticClass:"mb-4"},[n("countWidget",{attrs:{loading:t.today_loading,count:0,title:"Expense"}})],1)]),t._v(" "),n("v-col",{attrs:{cols:"12",sm:"6",xs:"12",md:"3"}},[n("div",{staticClass:"mb-4"},[n("countWidget",{attrs:{loading:t.today_loading,count:t.overall.refunds,title:"Refunds"}})],1)]),t._v(" "),n("v-col",{attrs:{cols:"12",sm:"6",xs:"12",md:"3"}},[n("div",{staticClass:"mb-4"},[n("countWidget",{attrs:{loading:t.today_loading,count:t.overall.chargebacks,title:"Chargebacks"}})],1)]),t._v(" "),n("v-col",{attrs:{cols:"12",sm:"6",xs:"12",md:"3"}},[n("div",{staticClass:"mb-4"},[n("countWidget",{attrs:{loading:t.today_loading,count:t.overall.net,title:"Net"}})],1)]),t._v(" "),n("v-col",{attrs:{cols:"12",sm:"6",xs:"12",md:"3"}},[n("div",{staticClass:"mb-4"},[n("countWidget",{attrs:{loading:t.today_loading,count:t.overall.brand_queries,title:"Form Submits"}})],1)]),t._v(" "),n("v-col",{attrs:{cols:"12",sm:"6",xs:"12",md:"3"}},[n("div",{staticClass:"mb-4"},[n("countWidget",{attrs:{loading:t.today_loading,count:t.overall.lag_percentage,title:"Lag %"}})],1)]),t._v(" "),parseFloat(t.overall.inflated_marketing_spent)>0&&t.user_id>0?n("v-col",{attrs:{cols:"12",sm:"6",xs:"12",md:"3"}},[n("div",{staticClass:"mb-4"},[n("countWidget",{attrs:{loading:t.today_loading,count:t.overall.inflated_marketing_spent,title:"Marketing Spent Inflated"}})],1)]):t._e()],1):t._e()}),[],!1,null,null,null).exports}}]);